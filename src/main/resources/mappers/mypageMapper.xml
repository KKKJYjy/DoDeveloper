<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dodeveloper.mappers.mypageMapper">

	<update id="setProfileImage">
		update member set prefix = #{prefix}, profileImage =
		#{profileImage} where userId = #{userId}
	</update>

	<select id="getProfileImage" resultType="ProfileVO">
		select prefix,
		profileImage from member where userId = #{userId}
	</select>

	<update id="removeProfileImage">
		update member set prefix = NULL, profileImage = NULL
		where userId = #{userId}
	</update>

	<!-- userId가 쓴 스터디 모임글 리스트를 select -->
	<select id="getMyStudyList"
		resultType="com.dodeveloper.study.vodto.StudyBoardVO">
		select * from studyBoard where stuWriter = #{userId}
		order by wrritenDate desc
	</select>

	<!-- userId가 쓴 스터디 모임글의 스터디 참여 리스트를 select -->
	<select id="getMyStudyApplyList"
		resultType="com.dodeveloper.studyApply.vodto.StudyApplyVO">
		select sa.* from studyApply sa
		inner join studyBoard sb
		on sa.stuNo = sb.stuNo
		where sb.stuWriter = #{userId}
	</select>

</mapper>